{"version":3,"file":"app.js","sources":["../../libraries/x-element/x-element.js","../../elements/x-screen/x-state.js","../../elements/x-screen/x-screen.js","../../elements/x-screen/x-screen-fit.js","../../elements/x-screen/x-app-screen.js","../../elements/screen-loading/screen-loading.js","../../elements/screen-error/screen-error.js","../../libraries/nimiq-utils/activation-utils/activation-utils.js","../../libraries/robohash/src/js/robohash.js","../../libraries/identicon/src/identicon.js","../../elements/x-identicon/x-identicon.js","../../libraries/nimiq-utils/clipboard/clipboard.js","../../elements/x-toast/x-toast.js","../../elements/x-address/x-address.js","../../elements/screen-accounts/x-account.js","../../elements/screen-accounts/screen-accounts.js","../../elements/x-activation-utils/x-activation-utils.js","dashboard/elements/screen-home/screen-home.js","../../libraries/nano-api/nano-api.js","../../elements/x-amount/x-amount.js","../../elements/x-nimiq-api/x-nimiq-api.js","dashboard/elements/screen-account/screen-account.js","dashboard/elements/app/app.js"],"sourcesContent":["export default class XElement {\n    /**\n     * Creates an instance of XElement.\n     * @param {XElement | Element | null} parent\n     * @memberof XElement\n     */\n    constructor(parent) {\n        this.__bindDOM(parent);\n        this.__createChildren();\n        this.$el.xDebug = this; // This DOM-Element gets a reference to this XElement (nice for debugging)\n        if (this.onCreate) this.onCreate();\n    }\n\n    /**\n     * \n     * \n     * @param {XElement | Element | null} parent\n     * @memberof XElement\n     */\n    __bindDOM(parent) {\n        if (parent instanceof XElement) this.$el = parent.$(this.__tagName); // query in parent for tag name\n        else if (parent instanceof Element) this.$el = parent; // The parent is this DOM-Element\n        else this.$el = document.querySelector(this.__tagName); // query in document for tag name\n        this.__fromHtml();\n        this.__bindStyles(this.styles);\n    }\n\n    /**\n     * \n     * \n     * @returns \n     * @memberof XElement\n     */\n    __createChildren() { // Create all children recursively\n        if (!this.children) return;\n        this.children().forEach(child => this.__createChild(child));\n    }\n\n    /**\n     * \n     * \n     * @param {XElement | XElement[]} child\n     * @returns {void}\n     * @memberof XElement\n     */\n    __createChild(child) { // bind all this.$myChildElement = new MyChildElement(this);\n        if (child instanceof Array) return this.__createArrayOfChild(child[0]);\n        this[child.__toChildName()] = new child(this);\n    }\n\n    /**\n     * \n     * \n     * @param {XElement} child\n     * @memberof XElement\n     */\n    __createArrayOfChild(child) {\n        const name = child.__toChildName() + 's';\n        const tagName = XElement.__toTagName(child.name);\n        const children = this.$$(tagName);\n        this[name] = [];\n        children.forEach(c => this[name].push(new child(c)));\n    }\n    /**\n     * \n     * \n     * @static\n     * @param {string} str\n     * @returns {string}\n     * @memberof XElement\n     */\n    static camelize(str) {\n        return str.replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, (match) => {\n            if (+match === 0) return '';// or if (/\\s+/.test(match)) for white spaces\n            return match.toUpperCase();\n        });\n    }\n\n    /**\n     * \n     * \n     * @static\n     * @returns {string}\n     * @memberof XElement\n     */\n    static __toChildName() {\n        let name = this.name;\n        if (name.match(/^X[A-Z][a-z]*/)) name = name.substring(1); // replace XAnyConstructorName -> AnyConstructorName\n        return '$' + name[0].toLowerCase() + name.substring(1); // AnyConstructorName -> $anyConstructorName\n    }\n\n    /**\n     * \n     * \n     * @returns \n     * @memberof XElement\n     */\n    __fromHtml() {\n        if (!this.html) return;\n        const html = this.html().trim();\n        const currentContent = this.$el.innerHTML.trim();\n        this.$el.innerHTML = html;\n        if (currentContent === '') return;\n        const $content = this.$('[content]');\n        if (!$content) return;\n        $content.innerHTML = currentContent;\n        $content.removeAttribute('content');\n    }\n\n    /**\n     * \n     * \n     * @readonly\n     * @memberof XElement\n     */\n    get __tagName() { // The tagName of this DOM-Element\n        return XElement.__toTagName(this.constructor.name);\n    }\n\n    /**\n     * \n     * \n     * @static\n     * @param {string} name\n     * @returns \n     * @memberof XElement\n     */\n    static __toTagName(name) {\n        return name.split(/(?=[A-Z])/).join('-').toLowerCase(); // AnyConstructorName -> any-constructor-name\n    }\n\n    /**\n     * \n     * \n     * @static\n     * @returns \n     * @memberof XElement\n     */\n    static createElement() {\n        const name = this.__toTagName(this.name);\n        const element = document.createElement(name);\n        return new this(element);\n    }\n\n    /**\n     * \n     * \n     * @param {string} selector\n     * @returns {Element}\n     * @memberof XElement\n     */\n    $(selector) { return this.$el.querySelector(selector) } // Query inside of this DOM-Element\n\n    /**\n     * \n     * \n     * @param {string} selector\n     * @returns {Element[]}\n     * @memberof XElement\n     */\n    $$(selector) { return this.$el.querySelectorAll(selector) } // QueryAll inside of this DOM-Element\n    /**\n     * \n     * \n     * @memberof XElement\n     */\n    clear() { while (this.$el.firstChild) this.$el.removeChild(this.$el.firstChild) } // Clear all DOM-Element children\n\n    /**\n     * \n     * \n     * @param {string} type\n     * @param {function} callback\n     * @memberof XElement\n     */\n    addEventListener(type, callback) { this.$el.addEventListener(type, callback, false) }\n    /**\n     * \n     * \n     * @param {string} eventType\n     * @param {any} [detail=null] \n     * @param {boolean} [bubbles=true] \n     * @memberof XElement\n     */\n    fire(eventType, detail = null, bubbles = true) { // Fire DOM-Event\n        const params = { detail: detail, bubbles: bubbles };\n        this.$el.dispatchEvent(new CustomEvent(eventType, params));\n    }\n    /**\n     * \n     * \n     * @param {string} type\n     * @param {function} callback\n     * @param {Element | window} $el\n     * @memberof XElement\n     */\n    listenOnce(type, callback, $el) {\n        const listener = e => {\n            $el.removeEventListener(type, listener);\n            callback(e);\n        }\n        $el.addEventListener(type, listener, false);\n    }\n\n    /**\n     * \n     * \n     * @param {string} styleClass\n     * @memberof XElement\n     */\n    addStyle(styleClass) { this.$el.classList.add(styleClass) }\n    /**\n     * \n     * \n     * @param {string} styleClass\n     * @memberof XElement\n     */\n    removeStyle(styleClass) { this.$el.classList.remove(styleClass) }\n    /**\n     * \n     * \n     * @param {() => string[]} styles\n     * @returns \n     * @memberof XElement\n     */\n    __bindStyles(styles) {\n        if (super.styles) super.__bindStyles(super.styles); // Bind styles of all parent types recursively\n        if (!styles) return;\n        styles().forEach(style => this.addStyle(style));\n    }\n\n    /**\n     * \n     * \n     * @param {string} className\n     * @param {Element | string} $el\n     * @param {() => void} afterStartCallback\n     * @param {() => void} beforeEndCallback\n     * @returns\n     * @memberof XElement\n     */\n    animate(className, $el, afterStartCallback, beforeEndCallback) {\n        const $screen = this;\n\n        return new Promise(resolve => {\n            $el = $el || this.$el;\n            // 'animiationend' is a native DOM event that fires upon CSS animation completion\n            this.listenOnce('animationend', e => {\n                if (e.target !== $el) return;\n                if (beforeEndCallback) beforeEndCallback();\n                this.stopAnimate(className, $el);\n                resolve();\n            }, $el);\n            $el.classList.add(className);\n            if (afterStartCallback) afterStartCallback();\n        })\n    }\n    /**\n     * \n     * \n     * @param {string} className\n     * @param {Element | string} $el\n     * @memberof XElement\n     */\n    stopAnimate(className, $el) {\n        $el = $el || this.$el;\n        $el.classList.remove(className);\n    }\n\n    types() {\n        /** @type{() => (typeof XElement)[]} */\n        this.children = null;\n        /** @type {string} */\n        this.name = null;\n        /** @types {() => string[]} */\n        this.styles = null;\n    }\n}\n\n// Todo: Bug/Pitfall: When instantiating a screen twice on a path down a screen tree (e.g. loading), it has to be declared as an array on the higher level.","export default class XState {\n    constructor(path) {\n        /** @type {string} */\n        this._id = path[0];\n        /** @type {string} */\n        this._toString = path.join('/');\n        /** @type {string} */\n        const child = path.slice(1);\n        if (child.length && child[0]) this._child = new XState(child);\n        /** @type {boolean} */\n        this._isLeaf = !this._child;\n        this._path = path;\n    }\n\n    /** @returns {boolean} */\n    get isLeaf() { return this._isLeaf; }\n\n    /** @returns {string} */\n    get id() { return this._id; }\n\n    /** @returns {boolean} */\n    get isRoot() { return this.id === '' }\n\n    /** @returns {XState} */\n    get child() { return this._child; }\n\n    /** @returns {string[]} */\n    get path() { return JSON.parse(JSON.stringify(this._path)) }\n\n    /** @return {boolean} */\n    isEqual(otherState) {\n        return otherState && this.toString() === otherState.toString();\n    }\n\n    /** @return {boolean} */\n    isRootEqual(otherState) {\n        return otherState && this.id && this.id === otherState.id;\n    }\n\n    /** @return {string} */\n    toString() {\n        return this._toString;\n    }\n\n    /** @return {string[]} */\n    intersection(otherState) {\n        const intersection = [];\n        let state1 = this;\n        let state2 = otherState;\n        while (state1 && state2 && state1.id === state2.id) {\n            intersection.push(state1.id);\n            state1 = state1.child;\n            state2 = state2.child;\n        }\n        return intersection;\n    }\n\n    /** @return {string[]} */\n    difference(otherState) {\n        if (!otherState) return this.path;\n        const difference = [];\n        let state1 = this;\n        let state2 = otherState;\n        while (state1) {\n            if (!state2 || state1.id !== state2.id) difference.push(state1.id);\n            state1 = state1.child;\n            if (state2) state2 = state2.child;\n        }\n        return difference;\n    }\n\n    /** @param {string} fragment\n     *  @returns {XState}\n     */\n    static fromLocation(fragment) {\n        fragment = fragment || this._currFragment();\n        fragment = fragment[0] === '#' ? fragment.slice(1) : fragment;\n        return this.fromString(fragment);\n    }\n\n    /** @param {string} string\n     * @returns {XState}\n     */\n    static fromString(string) {\n        const path = string.split('/');\n        return new XState(path);\n    }\n\n    /** @param {string[]} route\n     *  @returns string */\n    static locationFromRoute(route) {\n        if (!route) return '';\n        if (route[0] === '/') return this._locationFromAbsoluteRoute(route);\n        if (route.indexOf('./') === 0) return this._locationFromSubroute(route);\n        return this._locationFromRelativeRoute(route);\n    }\n\n    /** @param {string[]} route\n     *  @returns string */\n    static _locationFromRelativeRoute(route) {\n        const fragment = this._currFragment();\n        const path = fragment.split('/').filter(e => e);\n        path.pop();\n        path.push(route);\n        return '#' + path.join('/');\n    }\n\n    /** @param {string[]} route\n     *  @returns string */\n    static _locationFromSubroute(route) {\n        route = route.slice(2);\n        let fragment = this._currFragment();\n        let lastChar = fragment[fragment.length - 1];\n        if (!!fragment && lastChar !== '/') fragment += '/';\n        return '#' + fragment + route;\n    }\n\n    /** @param {string[]} route\n     *  @returns string */\n    static _locationFromAbsoluteRoute(route) {\n        return '#' + route.slice(1);\n    }\n\n    /** @returns string */\n    static _currFragment() {\n        let fragment = decodeURIComponent(location.hash.slice(1));\n        fragment = fragment.replace('#/', '#');\n        return fragment;\n    }\n}","import XElement from '/libraries/x-element/x-element.js';\nimport XState from './x-state.js';\n\nexport default class XScreen extends XElement {\n\n    types() {\n        /** @type {Map<string,XScreen>} */\n        this._childScreens = new Map();\n    }\n\n    constructor(parent) {\n        super(parent);\n        if (!parent) this._registerRootElement();\n        this._bindListeners();\n    }\n\n    _registerRootElement() {\n        XScreen._registerGlobalStateListener(this._onRootStateChange.bind(this));\n        this._show();\n    }\n\n    /**\n     *\n     * @param {XState} nextState\n     * @param {XState} prevState\n     * @param {boolean} isNavigateBack\n     * @returns {Promise<void>}\n     * @private\n     */\n    async _onRootStateChange(nextState, prevState, isNavigateBack) {\n        nextState = this._sanitizeState(nextState);\n        const intersection = nextState.intersection(prevState); // calc intersection common parent path\n        const nextStateDiff = nextState.difference(prevState);\n        const prevStateDiff = prevState && prevState.difference(nextState);\n        let parent = this;\n        intersection.forEach(childId => parent = parent._getChildScreen(childId)); // decent common path\n        let exitParent = prevStateDiff && parent._getChildScreen(prevStateDiff[0]);\n        if (exitParent) exitParent._exitScreens(prevStateDiff, nextState, prevState, isNavigateBack);\n        parent._entryScreens(nextStateDiff, nextState, prevState, isNavigateBack);\n        if (parent._onStateChange) parent._onStateChange(nextState);\n    }\n\n    _exitScreens(prevStateDiff, nextState, prevState, isNavigateBack) {\n        if (prevStateDiff && prevStateDiff.length > 1) {\n            const childScreen = this._getChildScreen(prevStateDiff[1]);\n            prevStateDiff = prevStateDiff.slice(1);\n            childScreen._exitScreens(prevStateDiff, nextState, prevState, isNavigateBack);\n        }\n        this.__onExit(nextState, prevState, isNavigateBack);\n    }\n\n    _entryScreens(nextStateDiff, nextState, prevState, isNavigateBack) {\n        this.__onEntry(nextState, prevState, isNavigateBack);\n        if (!nextStateDiff || !nextStateDiff.length) return;\n        const childScreen = this._getChildScreen(nextStateDiff[0]);\n        if (!childScreen) return;\n        const nextChildStateDiff = nextStateDiff.slice(1);\n        childScreen._entryScreens(nextChildStateDiff, nextState, prevState, isNavigateBack);\n    }\n\n    _sanitizeState(nextState) {\n        let parent = this;\n        while (nextState && !nextState.isRoot) {\n            const id = nextState.id;\n            parent = parent._getChildScreen(id);\n            nextState = nextState.child;\n        }\n        let child = parent;\n        while (child && child._getDefaultScreen()) {\n            child = child._getDefaultScreen();\n        }\n        const cleanState = XState.fromLocation(child._location);\n        history.replaceState(history.state, history.state, child._location);\n        XScreen.currState = cleanState;\n        return cleanState;\n    }\n\n    _getDefaultScreen() {\n        if (!this._childScreens) return;\n        return this._childScreens.values().next().value;\n    }\n\n    async __onEntry(nextState, prevState, isNavigateBack) {\n        if (this.isVisible) return;\n        if (this._onBeforeEntry) this._onBeforeEntry(nextState, prevState, isNavigateBack);\n        await this._animateEntry(isNavigateBack);\n        if (this._onEntry) await this._onEntry(nextState, prevState, isNavigateBack);\n        this._resolveGoTo();\n    }\n\n    _animateEntry(isNavigateBack) {\n        const afterStartCallback = () => { this._show(); };\n        if (!isNavigateBack)\n            return this.animate('x-entry-animation', null, afterStartCallback);\n        else\n            return this.animate('x-exit-animation-reverse', null, afterStartCallback);\n    }\n\n    async __onExit(nextState, prevState, isNavigateBack) {\n        if (!this.isVisible) return;\n        document.activeElement.blur();\n        if (this._onBeforeExit) this._onBeforeExit(nextState, prevState, isNavigateBack);\n        await this._animateExit(isNavigateBack);\n        if (this._onExit) await this._onExit(nextState, prevState, isNavigateBack);\n    }\n\n    _animateExit(isNavigateBack) {\n        const beforeEndCallback = () => { this._hide(); };\n        if (!isNavigateBack)\n            return this.animate('x-exit-animation', null, null, beforeEndCallback);\n        else\n            return this.animate('x-entry-animation-reverse', null, null, beforeEndCallback);\n    }\n\n    _show() {\n        this.$el.style.display = 'flex';\n        this.$el.offsetWidth; // Bugfix for FF: trigger layout and repaint\n        this._isVisible = true;\n    }\n\n    _hide() {\n        this.$el.style.display = 'none';\n        this._isVisible = false;\n    }\n\n    get isVisible() { return this._isVisible; }\n\n    get route() {\n        return this._route || this.$el.getAttribute('route') || this.__tagName.replace('screen-', '');\n    }\n\n    get _location() {\n        if (!this._parent) return;\n        if (!this._parent._location) return '#' + this.route;\n        return this._parent._location + '/' + this.route;\n    }\n\n    goTo(route) {\n        return new Promise(resolve => {\n            XScreen._goToResolve = resolve;\n            document.location = XState.locationFromRoute(route);\n        })\n    }\n\n    goToChild(route) {\n        document.location = this._location + '/' + route;\n    }\n\n    back() {\n        return new Promise(resolve => {\n            XScreen._goToResolve = resolve;\n            history.back();\n        });\n    }\n\n    _bindListeners() {\n        if (!this.listeners) return;\n        const listeners = this.listeners();\n        for (const key in listeners) {\n            this.addEventListener(key, e => this[listeners[key]](e.detail !== undefined ? e.detail : e));\n        }\n    }\n\n    _getChildScreen(id) {\n        if (!this._childScreens) return;\n        return this._childScreens.get(id);\n    }\n\n    __createChild(child) {\n        super.__createChild(child);\n        if (child instanceof Array) {\n            const name = child[0].__toChildName() + 's';\n            if (this[name][0] instanceof XScreen) this.__createChildScreens(child[0]);\n        } else {\n            const childScreen = this[child.__toChildName()];\n            if (childScreen instanceof XScreen) this.__createChildScreen(childScreen);\n        }\n    }\n\n    __createChildScreen(child) {\n        if (!this._childScreens) this._childScreens = new Map();\n        this._childScreens.set(child.route, child);\n        child._parent = this;\n    }\n\n    __createChildScreens(child) {\n        const name = child.__toChildName() + 's';\n\n        this[name].forEach(c => this.__createChildScreen(c));\n    }\n\n    __bindStyles(styles) {\n        super.__bindStyles(styles);\n        if (!this.styles) this.addStyle('x-screen');\n    }\n\n    _resolveGoTo() {\n        if (!XScreen._goToResolve) return;\n        XScreen._goToResolve();\n        XScreen._goToResolve = null;\n    }\n\n    _validateState(nextState, prevState, isNavigateBack) { return true /* Abstract Method */ }\n\n\n    /** @param {function} callback */\n    static _registerGlobalStateListener(callback) {\n        if (this._stateListener) return; // We register only the first screen calling. All other screens get notified by their parent\n        this._stateListener = window.addEventListener('popstate', e => this._onHistoryChange(callback));\n        this._onHistoryChange(callback, true);\n    }\n\n    /** @param {function} callback */\n    static _onHistoryChange(callback, isPageLoad) {\n        let nextState;\n        if (isPageLoad) nextState = XState.fromLocation('#');\n        else nextState = XState.fromLocation();\n        if (nextState.isEqual(this.currState)) return;\n        const isNavigateBack = (nextState.isEqual(this.prevState));\n        this.prevState = this.currState;\n        this.currState = nextState;\n        callback(nextState, this.prevState, isNavigateBack);\n    }\n\n    static launch() { window.addEventListener('load', () => new this()); }\n}\n\n// Todo: Fix kind of animations when using back and forward buttons in whatever order\n// Todo Fix general page layout (Firefox bugs, absolute positioning)","import XScreen from './x-screen.js';\nexport default class XScreenFit extends XScreen {\n    styles() { return ['x-screen-fit'] }\n}","import XScreenFit from './x-screen-fit.js';\nexport default class XAppScreen extends XScreenFit {\n\tget __tagName() { return 'body' }\n\n\t_animateEntry() {} // Overwritten from XScreenFit\n}","import XScreenFit from '../x-screen/x-screen-fit.js';\n\nexport default class ScreenLoading extends XScreenFit {\n    html() {\n        return `\n            <x-loading-animation></x-loading-animation>\n            <h2 content></h2>\n        `\n    }\n}\n","import XScreen from '../x-screen/x-screen.js';\nexport default class ScreenError extends XScreen {\n    html() {\n        return `\n            <img src=\"/elements/screen-error/screen-error.svg\">\n            <h1>Error</h1>\n            <h2>Unfortunately we don't know the reason</h2>\n        `\n    }\n\n    onCreate() {\n        this.$h2 = this.$('h2');\n        const message = this.$el.getAttribute('message');\n        if (message !== undefined) {\n            this.show(message);\n        }\n    }\n\n    show(message) {\n        this.$h2.textContent = message;\n    }\n}","export default class ActivationUtils {\n    static get API_ROOT() { return 'https://activate.nimiq-network.com' }\n\n    /** @param {string} ethAddress\n     *  @return {Promise<number>}*/\n    static async fetchBalance(ethAddress) {\n        const response = await fetch(`https://api.etherscan.io/api?module=account&action=tokenbalance&contractaddress=0xcfb98637bcae43C13323EAa1731cED2B716962fD&tag=latest&address=${ethAddress}`)\n        return (await response.json()).result;\n    }\n\n    /** @param {string | Nimiq.Address} address \n     * @return {Promise<string>} */\n    static async nim2ethAddress(address) {\n        const addressObj = (typeof address  === 'string') ? ActivationUtils.getUnfriendlyAddress(address) : address;\n        const hash = await Nimiq.Hash.sha256(addressObj.serialize());\n        return '0x' + Nimiq.BufferUtils.toHex(hash.subarray(0, 20));\n    }\n\n    /** @param {string} friendlyAddress */\n    static getUnfriendlyAddress(friendlyAddress) {\n        return Nimiq.Address.fromUserFriendlyAddress(friendlyAddress);\n    }\n\n    /** @param {string} dashboardToken */\n    async getDashboardData(dashboardToken) {\n        try {\n            const request = fetch(\n                `${ActivationUtils.API_ROOT}/list/${dashboardToken}`,\n                { method: 'GET' }\n            );\n\n            const result = await request.then(response => {\n                if (!response.ok) {\n                    this.onDashboardTokenError();\n                } else {\n                    return response.json();\n                }\n            });\n\n            if (result) {\n                this.onDashboardDataResult(result);\n            } \n        } catch(e) {\n            this.onDashboardTokenError();\n        }\n    }\n\n\n    /** @param {string} activationToken */\n    async isValidToken(activationToken) {\n        const request = fetch(\n            `${ActivationUtils.API_ROOT}/activate/${activationToken}`,\n            { method: 'GET' }\n        );\n        try {\n            const response = await request;\n            this.onIsValidToken(response.ok);\n        } catch (e) {\n            this.onIsValidToken(false);\n        }\n    }\n\n    /** @param {string} activationToken\n     * @param {string} nimiqAddress */\n    async activateAddress(activationToken, nimiqAddress) {\n        const request = fetch(\n            `${ActivationUtils.API_ROOT}/activate/address`,\n            { \n                method: 'POST',\n                body: JSON.stringify({\n                    'activation_token': activationToken,\n                    'nimiq_address': nimiqAddress\n                }),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n            }\n        );\n\n        const response = await request;\n        this.onActivateAddress(response.ok);\n    }\n\n    /** @param {{birthday: Date, city: string, country_residence: string, country_nationality: string, email: string, sex: string, first_name: string, last_name: string, street: string, zip: string }} kycData */\n    async submitKyc(kycData) {\n        const request = fetch(\n            `${ActivationUtils.API_ROOT}/submit`,\n            {\n                method: 'POST',\n                body: JSON.stringify(kycData),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            }\n        );\n\n        const response = await request;\n        if (response.ok) {\n            this.onKycSuccess(await response.json());\n        }\n        else {\n            this.onKycError(response.status);\n        }\n    }\n}","export default class Robohash {\n\n    /* Public API */\n\n    static svg(text) {\n        const hash = this._hash(text);\n        return this._svgTemplate(this.colors[hash[0]], this.bgColors[hash[1]], hash[2], hash[3], hash[4], hash[5], hash[6]);\n    }\n\n    static render(text, $element) {\n        $element.innerHTML = this.svg(text)\n    }\n\n    static toDataUrl(text) {\n        return `data:image/svg+xml;base64,${btoa(this.svg(text))}`;\n    }\n\n\n    /* Private API */\n    static _svgTemplate(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr) {\n        return this._$svg(this._$robohash(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr));\n    }\n\n    static _clippedsvgTemplate(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr) {\n        return this._$svg(this._$robohash(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr));\n    }\n\n    static _$robohash(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr) {\n        return `\n            <g style=\"color:${color}\">\n                <rect fill=\"${backgroundColor}\" x=\"0\" y=\"0\" width=\"320\" height=\"320\"></rect>\n                ${this._$use('body',bodyNr)}\n                ${this._$use('face',faceNr)}\n                ${this._$use('eyes',eyesNr)}\n                ${this._$use('mouth',mouthNr)}\n                ${this._$use('accessory',accessoryNr)}\n            </g>`\n    }\n\n    static _$svg(content) {\n        return `\n            <svg viewBox=\"0 0 320 320\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/2000/xlink\" >\n                ${content}\n            </svg>`\n    }\n\n    static _$use(part, index) {\n        return `<use width=\"320\" height=\"300\" transform=\"translate(0,20)\" xlink:href=\"${location.origin}/libraries/robohash/dist/robohash.min.svg#${part}-${this._assetIndex(index)}\" />`;\n    }\n\n    static get colors() {\n        return [\n            '#ff9800', // orange-500\n            '#E53935', // red-600\n            '#FDD835', // yellow-600\n            '#3f51b5', // indigo-500\n            '#03a9f4', // light-blue-500\n            '#9c27b0', // purple-500\n            '#009688', // teal-500\n            '#EC407A', // pink-400\n            '#8bc34a', // light-green-500\n            '#795548' // brown-500\n        ]\n    }\n\n    static get bgColors() {\n        return [\n            /* Red  */\n            '#FF8A80', // red-a100\n            '#F48FB1', // pink-200\n            '#ea80fc', // purple-a100\n\n            /* Blue */\n            '#8c9eff', // indigo-a100\n            '#80d8ff', // light-blue-a100\n            '#CFD8DC', // blue-grey-100\n\n            /* Green */\n            '#1DE9B6', // teal-a400\n            '#00C853', // green-a-700\n\n            /* Orange */\n            '#FF9E80', // deep-orange-a100\n            '#FFE57F' // amber-a100\n        ]\n    }\n\n    static _assetIndex(index) { index = Number(index) + 1; return index < 10 ? '0' + index : index }\n\n    static _hash(text) {\n        return ('' + text\n                .split('')\n                .map(c => Number(c.charCodeAt(0)) + 3)\n                .reduce((a, e) => a * (1 - a) * this.__chaosHash(e), 0.5))\n            .split('')\n            .reduce((a, e) => e + a, '')\n            .substr(4, 10);\n    }\n\n    static __chaosHash(number) {\n        const k = 3.569956786876;\n        let a_n = 1 / number;\n        for (let i = 0; i < 100; i++) {\n            a_n = (1 - a_n) * a_n * k;\n        }\n        return a_n;\n    }\n}","import Robohash from '../../robohash/src/js/robohash.js';\nexport default class Identicon extends Robohash {\n    \n    static _svgTemplate(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr) {\n        return this._$svg(this._$clipPath(this._$robohash(color, backgroundColor, bodyNr, faceNr, eyesNr, mouthNr, accessoryNr)));\n    }\n\n    static _$clipPath(content) {\n        return `\n            <defs>\n                <clipPath id=\"hexagon-clip\" transform=\"translate(0,32)\">\n                    <path d=\"M251.6 17.34l63.53 110.03c5.72 9.9 5.72 22.1 0 32L251.6 269.4c-5.7 9.9-16.27 16-27.7 16H96.83c-11.43 0-22-6.1-27.7-16L5.6 159.37c-5.7-9.9-5.7-22.1 0-32L69.14 17.34c5.72-9.9 16.28-16 27.7-16H223.9c11.43 0 22 6.1 27.7 16z\"/>\n                </clipPath>\n                <filter id=\"f1\" >\n                  <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\" result=\"blurOut\" />\n                  <feOffset in=\"blurOut\" dx=\"1\" dy=\"3\" result=\"offsetBlur\" />\n                  <feFlood flood-color=\"#333\" flood-opacity=\"0.71\" result=\"offsetColor\"/>\n                  <feComposite in=\"offsetColor\" in2=\"offsetBlur\" operator=\"in\" result=\"offsetBlur\"/>\n                  <feBlend in=\"SourceGraphic\" in2=\"offsetBlur\" mode=\"normal\" />\n                </filter>\n            </defs>\n            <path fill=\"white\" d=\"M251.6 17.34l63.53 110.03c5.72 9.9 5.72 22.1 0 32L251.6 269.4c-5.7 9.9-16.27 16-27.7 16H96.83c-11.43 0-22-6.1-27.7-16L5.6 159.37c-5.7-9.9-5.7-22.1 0-32L69.14 17.34c5.72-9.9 16.28-16 27.7-16H223.9c11.43 0 22 6.1 27.7 16z\"/>\n            <g transform=\"scale(0.9) translate(16,-16)\"  filter=\"url(#f1)\">\n                <g clip-path=\"url(#hexagon-clip)\">${content}</g>\n            </g>\n            `\n    }\n}","import XElement from '/libraries/x-element/x-element.js';\nimport Identicon from '/libraries/identicon/src/identicon.js';\n\nexport default class XIdenticon extends XElement {\n    set address(address) {\n        Identicon.render(address, this.$el);\n    }\n}","export default class Clipboard {\n    static copy(text) {\n        // A <span> contains the text to copy\n        var span = document.createElement('span')\n        span.textContent = text\n        span.style.whiteSpace = 'pre' // Preserve consecutive spaces and newlines\n\n        // An <iframe> isolates the <span> from the page's styles\n        var iframe = document.createElement('iframe')\n        iframe.sandbox = 'allow-same-origin'\n        document.body.appendChild(iframe)\n\n        var win = iframe.contentWindow\n        win.document.body.appendChild(span)\n\n        var selection = win.getSelection()\n\n        // Firefox fails to get a selection from <iframe> window, so fallback\n        if (!selection) {\n            win = window\n            selection = win.getSelection()\n            document.body.appendChild(span)\n        }\n\n        var range = win.document.createRange()\n        selection.removeAllRanges()\n        range.selectNode(span)\n        selection.addRange(range)\n\n        var success = false\n        try {\n            success = win.document.execCommand('copy')\n        } catch (err) {}\n\n        selection.removeAllRanges()\n        span.remove()\n        iframe.remove()\n\n        return success\n    }\n}","import XElement from '/libraries/x-element/x-element.js';\n\nexport default class XToast extends XElement {\n\n    constructor() {\n        super(document.createElement('proxy'));  // create a proxy in parent XElement. The actual toast is a XToastContainer attached to the document's body.\n    }\n\n    show(message) {\n        XToast.show(message);\n    }\n    \n    static _initContainer(){\n        const parent = document.body;\n        const $container = XToastContainer.createElement();\n        parent.appendChild($container.$el);\n        XToast.$toastContainer = $container;\n    }\n\n    static show(message){\n        if(!XToast.$toastContainer) this._initContainer();\n        this.$toastContainer.show(message);\n    }\n}\n\nclass XToastContainer extends XElement {\n    html() { return `<x-toast></x-toast>` }\n\n    show(message) {\n        const $toast = this.$('x-toast');\n        $toast.textContent = message;\n        this.animate('x-toast-show');\n    }\n}\n\n// Inspired by: https://material.io/guidelines/components/snackbars-toasts.html#snackbars-toasts-specs","import XElement from '/libraries/x-element/x-element.js';\nimport Clipboard from '/libraries/nimiq-utils/clipboard/clipboard.js';\nimport XToast from '../x-toast/x-toast.js';\n\nexport default class XAddress extends XElement {\n    children() { return [XToast] }\n\n    styles() { return ['x-address'] }\n    \n    onCreate() {\n        this.addEventListener('click', e => this._onCopy())\n    }\n\n    _onCopy() {\n        Clipboard.copy(this.$el.textContent);\n        this.$toast.show('Address copied to clipboard!')\n    }\n\n    set address(address) {\n        this.$el.textContent = address;\n    }\n}","import XElement from '/libraries/x-element/x-element.js';\nimport XIdenticon from '../x-identicon/x-identicon.js';\nimport XAddress from '../x-address/x-address.js';\n\nexport default class XAccount extends XElement {\n    html() {\n        return `\n            <x-identicon></x-identicon>\n            <x-address></x-address>\n        `\n    }\n    children() { return [XIdenticon, XAddress] }\n\n    onCreate() {\n        this.$el.addEventListener('click', e => this._onAccountSelected())\n    }\n\n    set address(address) {\n        this.$identicon.address = address;\n        this.$address.address = address;\n        this._address = address;\n    }\n\n    _onAccountSelected() {\n        this.fire('x-account-selected', this._address);\n    }\n}","import XScreenFit from '../x-screen/x-screen-fit.js';\nimport ActivationUtils from '/libraries/nimiq-utils/activation-utils/activation-utils.js';\nimport XAccount from './x-account.js';\n\nexport default class ScreenAccounts extends XScreenFit {\n    html() {\n        return `\n            <x-accounts-list></x-accounts-list>\n            <button>Create Account</button>\n        `\n    }\n\n    onCreate() {\n        this.$accountsList = this.$('x-accounts-list');\n        this.$('button').addEventListener('click', e => this._onCreateAccount());\n    }\n\n    set accounts(accounts) {\n        accounts.forEach(async account => await this._createAccount(account));\n    }\n\n    async addAccount(account){\n        await this._createAccount(account);\n    }\n\n    async _createAccount(account) {\n        const xAccount = XAccount.createElement();\n        xAccount.address = account;\n        this.$accountsList.appendChild(xAccount.$el);\n    }\n\n    _onCreateAccount() {\n        this.fire('x-create-account');\n    }\n}\n","import XElement from \"/libraries/x-element/x-element.js\";\nimport ActivationUtils from \"/libraries/nimiq-utils/activation-utils/activation-utils.js\";\n\nexport default class XActivationUtils extends XElement {\n    onCreate() {\n        this._api = new ActivationToolsWrapper(this);\n    }\n}\n\nclass ActivationToolsWrapper extends ActivationUtils {\n    constructor(element) {\n        super();\n        this._element = element;\n    }\n\n    onDashboardDataResult(response) {\n        this._element.fire('x-activation-dashboard-data', response);\n    }\n\n    onDashboardTokenError() {\n        this._element.fire('x-activation-dashboard-token-error');\n    }\n\n    onIsValidToken(response) {\n        this._element.fire('x-activation-valid-token', response);\n    }\n\n    onWalletCreated(response) {\n        this._element.fire('x-activation-wallet-created', response);\n    }\n    \n    onActivateAddress(response) {\n        this._element.fire('x-activation-activate-address', response);\n    }\n\n    onKycSuccess(response) {\n        this._element.fire('x-activation-post-success', response);\n    }\n\n    onKycError(errorCode) {\n        this._element.fire('x-activation-post-error', errorCode);\n    }\n}","import XScreen from '/elements/x-screen/x-screen.js';\nimport ScreenLoading from '/elements/screen-loading/screen-loading.js';\nimport ScreenError from '/elements/screen-error/screen-error.js';\nimport ScreenAccounts from '/elements/screen-accounts/screen-accounts.js';\nimport XActivationUtils from '/elements/x-activation-utils/x-activation-utils.js'\n\nexport default class ScreenHome extends XScreen {\n    html() {\n        return `\n            <h1>Accounts Dashboard</h1>\n            <h2>Activate Nimiq Accounts and manage your activated Accounts</h2>\n            <x-slides>\n                <screen-loading>Loading Data</screen-loading>                \n                <screen-error></screen-error>              \n                <screen-accounts></screen-accounts>\n            </x-slides>\n            <x-activation-utils></x-activation-utils>\n        `\n    }\n\n    children() { return [ ScreenLoading, ScreenAccounts, ScreenError, XActivationUtils ] }\n\n    listeners() {\n        return {\n            'x-activation-dashboard-data': '_onDashboardDataResult',\n            'x-activation-dashboard-token-error': '_onDashboardTokenError',\n            'x-create-account': '_onCreateAccount',\n            'x-api-ready': '_onApiReady'\n        }\n    }\n\n    _onBeforeEntry() {\n        let dashboardToken = new URLSearchParams(document.location.search).get(\"dashboard_token\");\n        if (dashboardToken !== null) {\n            localStorage.setItem('dashboardToken', dashboardToken);\n        } else {\n            dashboardToken = localStorage.getItem('dashboardToken');\n        }\n        this.$activationUtils._api.getDashboardData(dashboardToken);\n    }\n\n    _onDashboardDataResult(result) {\n        const addresses = result.addresses;\n        const activationToken = result.activation_token;\n        this._activationToken = activationToken;\n        this.$screenAccounts.accounts = addresses;\n        this.goTo('accounts');\n    }\n\n    _onDashboardTokenError() {\n        this.$screenError.show('Invalid dashboard token. Please use a valid link.');\n        this.goTo('error');\n    }\n\n    _onCreateAccount() {\n        window.location.href = '../activate/?activation_token=' + this._activationToken;\n    }\n}\n","export default class NanoApi {\n\n    static get API_URL() { return 'https://cdn.nimiq-network.com/branches/master/nimiq.js' }\n    static get satoshis() { return 100000000 }\n\n    static getApi() {\n        this._api = this._api || new NanoApi();\n        return this._api;\n    }\n\n    constructor() {\n        this._apiInitialized = new Promise(resolve => {\n            this._resolveApiInitialized = resolve;\n            return 1;\n        });\n        this._init()\n    }\n\n    async _init(connect) {\n        await NanoApi._importApi();\n        this.$ = {}\n        Nimiq.init($ => this._onApiReady(), e => this.onDifferentTabError(e));\n    }\n\n    async _onApiReady() {\n        await Nimiq.Crypto.prepareSyncCryptoWorker();\n        this.$.walletStore = await new Nimiq.WalletStore();\n        this.$.wallet = this.$.wallet || await this.$.walletStore.getDefault();\n        this.onAddressChanged(this.address);\n        this.onInitialized();\n    }\n\n    async connect() {\n        await this._apiInitialized;\n        this.$.consensus = await Nimiq.Consensus.nano();\n        this.$.consensus.on('established', e => this._onConsensusEstablished());\n        this.$.consensus.network.connect();\n        this.$.consensus.blockchain.on('head-changed', e => this._headChanged());\n        this.$.consensus.mempool.on('transaction-added', tx => this._transactionAdded(tx));\n    }\n\n    async _headChanged() {\n        await this._apiInitialized;\n        if (!this.$.consensus.established) return;\n        const balance = await this._getBalance();\n        if (this._balance === balance) return;\n        this._balance = balance;\n        this.onBalanceChanged(this.balance);\n    }\n\n    async _getAccount() {\n        await this._apiInitialized;\n        const account = await this.$.consensus.getAccount(this.$.wallet.address);\n        return account || { balance: 0, nonce: 0 }\n    }\n\n    async _getBalance() {\n        await this._apiInitialized;\n        const account = await this._getAccount();\n        return account.balance;\n    }\n\n    _onConsensusEstablished() {\n        this._headChanged();\n        this.onConsensusEstablished();\n    }\n\n    _transactionAdded(tx) {\n        if (!tx.recipient.equals(this.$.wallet.address)) return;\n        const sender = tx.senderPubKey.toAddress();\n        this.onTransactionReceived(sender.toUserFriendlyAddress(), tx.value / NanoApi.satoshis, tx.fee);\n    }\n\n    /*\n        Public API\n    */\n    async sendTransaction(recipient, value, fees = 0) {\n        await this._apiInitialized;\n        const recipientAddr = Nimiq.Address.fromUserFriendlyAddress(recipient);\n        value = Math.round(Number(value) * NanoApi.satoshis);\n        fees = Math.round(Number(fees) * NanoApi.satoshis);\n        const tx = this.$.wallet.createTransaction(recipientAddr, value, fees, this.$.consensus.blockchain.height);\n        return this.$.consensus.relayTransaction(tx);\n    }\n\n    async getAddress() {\n        await this._apiInitialized;\n        return this.address;\n    }\n\n    async getBalance() {\n        await this._apiInitialized;\n        return this.balance;\n    }\n\n    get address() {\n        return this.$.wallet.address.toUserFriendlyAddress();\n    }\n\n    get balance() {\n        return (this._balance / NanoApi.satoshis) || 0;\n    }\n\n    async generateKeyPair() {\n        await this._apiInitialized;\n        const keys = Nimiq.KeyPair.generate();\n        const privKey = keys.privateKey\n        const address = keys.publicKey.toAddress();\n        return {\n            privateKey: privKey,\n            address: address.toUserFriendlyAddress()\n        }\n    }\n\n    async importKey(privateKey, persist = true) {\n        await this._apiInitialized;\n        const keyPair = Nimiq.KeyPair.fromPrivateKey(privateKey);\n        this.$.wallet = new Nimiq.Wallet(keyPair);\n        if (persist) await this.$.walletStore.put(this.$.wallet);\n        return this.address;\n    }\n\n    async exportKey() {\n        await this._apiInitialized;\n        return this.$.wallet.keyPair.privateKey.toHex();\n    }\n\n    async lockWallet(pin) {\n        await this._apiInitialized;\n        return this.$.wallet.lock(pin);\n    }\n\n    async unlockWallet(pin) {\n        await this._apiInitialized;\n        return this.$.wallet.unlock(pin);\n    }\n\n    async importEncrypted(encryptedKey, password) {\n        await this._apiInitialized;\n        this.$.wallet = await Nimiq.Wallet.loadEncrypted(encryptedKey, password);\n        // this.$.walletStore = this.$.walletStore || await new Nimiq.WalletStore();\n        // this.$.walletStore.put(this.$.wallet);\n    }\n\n    async exportEncrypted(password) {\n        await this._apiInitialized;\n        const exportedWallet = await this.$.wallet.exportEncrypted(password);\n        return Nimiq.BufferUtils.toBase64(exportedWallet);\n    }\n\n    /** @param {string | Nimiq.Address} address\n     * @return {Promise<string>} */\n    async nim2ethAddress(address) {\n        await this._apiInitialized;\n        const addressObj = (typeof address  === 'string') ? await this.getUnfriendlyAddress(address) : address;\n        const hash = await Nimiq.Hash.sha256(addressObj.serialize());\n        return '0x' + Nimiq.BufferUtils.toHex(hash.subarray(0, 20));\n    }\n\n    /** @param {string} friendlyAddress */\n    async getUnfriendlyAddress(friendlyAddress) {\n        await this._apiInitialized;\n        return Nimiq.Address.fromUserFriendlyAddress(friendlyAddress);\n    }\n\n    onInitialized() {\n        console.log('Nimiq API ready to use');\n        this._resolveApiInitialized();\n        this.fire('nimiq-api-ready');\n    }\n\n    onAddressChanged(address) {\n        console.log('address changed');\n        this.fire('nimiq-account', address);\n    }\n\n    onConsensusEstablished() {\n        console.log('consensus established');\n        this.fire('nimiq-consensus-established', this.address);\n    }\n\n    onBalanceChanged(balance) {\n        console.log('new balance:', balance);\n        this.fire('nimiq-balance', balance);\n    }\n\n    onTransactionReceived(sender, value, fee) {\n        console.log('received:', value, 'from:', sender, 'txfee:', fee);\n        this.fire('nimiq-transaction', { sender: sender, value: value, fee: fee });\n    }\n\n    onDifferentTabError() {\n        console.log('Nimiq API is already running in a different tab');\n        this.fire('nimiq-different-tab-error');\n    }\n\n    static formatValue(number, decimals = 3) {\n        number = Number(number)\n        decimals = Math.pow(10, decimals);\n        return Math.round(number * decimals) / decimals;\n    }\n\n    static formatValueInDollar(number) {\n        number = Number(number)\n        return this.formatValue(number * 17.1, 2);\n    }\n\n    static validateAddress(address) {\n        try {\n            this.isUserFriendlyAddress(address);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    // Copied from: https://github.com/nimiq-network/core/blob/master/src/main/generic/consensus/base/account/Address.js\n\n    static isUserFriendlyAddress(str) {\n        str = str.replace(/ /g, '');\n        if (str.substr(0, 2).toUpperCase() !== 'NQ') {\n            throw new Error('Addresses start with NQ', 201);\n        }\n        if (str.length !== 36) {\n            throw new Error('Addresses are 36 chars (ignoring spaces)', 202);\n        }\n        if (this._ibanCheck(str.substr(4) + str.substr(0, 4)) !== 1) {\n            throw new Error('Address Checksum invalid', 203);\n        }\n    }\n\n    static _ibanCheck(str) {\n        const num = str.split('').map((c) => {\n            const code = c.toUpperCase().charCodeAt(0);\n            return code >= 48 && code <= 57 ? c : (code - 55).toString();\n        }).join('');\n        let tmp = '';\n\n        for (let i = 0; i < Math.ceil(num.length / 6); i++) {\n            tmp = (parseInt(tmp + num.substr(i * 6, 6)) % 97).toString();\n        }\n\n        return parseInt(tmp);\n    }\n\n    static _importApi() {\n        return new Promise((resolve, reject) => {\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = NanoApi.API_URL;\n            script.addEventListener('load', () => resolve(script), false);\n            script.addEventListener('error', () => reject(script), false);\n            document.body.appendChild(script);\n        });\n    }\n\n    // Copied from x-element.\n    fire(eventType, detail = null, bubbles = true) { // Fire DOM-Event\n        const params = { detail: detail, bubbles: bubbles };\n        window.dispatchEvent(new CustomEvent(eventType, params));\n    }\n}","import XElement from '/libraries/x-element/x-element.js';\nimport NanoApi from '/libraries/nano-api/nano-api.js';\n\nexport default class XAmount extends XElement {\n    html(){\n        return `\n            <x-currency-1></x-currency-1>\n            <x-currency-2></x-currency-2>`\n    }\n\n    onCreate(){\n        this.$currency1 = this.$('x-currency-1')\n        this.$currency2 = this.$('x-currency-2')\n    }\n\n    set value(value) {\n        value = Number(value);\n        this.$currency1.textContent = NanoApi.formatValue(value, 3) || '';\n        this.$currency2.textContent = NanoApi.formatValueInDollar(value) || '';\n    }\n}\n","import XElement from \"/libraries/x-element/x-element.js\";\nimport NanoApi from \"/libraries/nano-api/nano-api.js\";\n\nexport default class XNimiqApi extends XElement {\n    onCreate() {\n        const connect = this.$el.getAttribute('connect') === 'true';\n        this._api = new NimiqApi(connect, this);\n    }\n}\n\nclass NimiqApi extends NanoApi {\n    constructor(connect, element) {\n        super(connect);\n        this._element = element;\n    }\n    onInitialized() {\n        this.initialized = true;\n        this._element.fire('x-api-ready', this);\n    }\n\n    onConsensusEstablished() {\n        this._element.fire('x-consensus-established', this.address);\n    }\n\n    onAddressChanged(address) {\n        this._element.fire('x-account', address);\n    }\n\n    onBalanceChanged(balance) {\n        this._element.fire('x-balance', balance);\n    }\n\n    onTransactionReceived(sender, value, fee) {\n        this._element.fire('x-transaction', { sender: sender, value: value, fee: fee });\n    }\n\n    onDifferentTabError() {\n        this._element.fire('x-different-tab-error');\n    }\n}\n\n// Todo: [low] Make api a singleton, so we can wait more fine-grained for api-ready, but load it right after starting the app","import XScreen from '/elements/x-screen/x-screen.js';\nimport XIdenticon from '/elements/x-identicon/x-identicon.js';\nimport XAddress from '/elements/x-address/x-address.js';\nimport XAmount from '/elements/x-amount/x-amount.js';\nimport ActivationUtils from '/libraries/nimiq-utils/activation-utils/activation-utils.js';\nimport XNimiqApi from '/elements/x-nimiq-api/x-nimiq-api.js';\n\nexport default class ScreenAccount extends XScreen {\n    html() {\n        return `\n        \t<h1>Nimiq Account</h1>\n        \t<h2>Check your activated account's identicon, address and balance</h2>\n\t\t\t<x-grow>\n\t\t\t\t<x-identicon></x-identicon>\n\t\t\t\t<x-address></x-address>\n\t\t\t\t<x-amount></x-amount>\n\t\t\t</x-grow>\n\t\t\t<x-nimiq-api></x-nimiq-api>\n\t\t\t<button>Back to Dashboard</button>\n\t\t`\n    }\n\n    children() { return [XIdenticon, XAddress, XAmount, XNimiqApi] }\n\n    listeners() {\n        return {\n            'x-api-ready': '_onApiReady'\n        }\n    }\n\n    onCreate() {\n        this.$('button').addEventListener('click', e => this._onBack());\n    }\n\n    _onBack() {\n        this.goTo('home/accounts');\n    }\n\n    _onApiReady() {\n        if (!this._address) return;\n        this._fetchAmount(this._address);\n    }\n\n    set address(address) {\n        this.$identicon.address = address;\n        this.$address.address = address;\n        this._address = address;\n        if (this.$nimiqApi.initialized)\n            this._onApiReady();\n    }\n\n    async _fetchAmount(address) {\n        const ethAddress = await ActivationUtils.nim2ethAddress(address);\n        const balance = await ActivationUtils.fetchBalance(ethAddress);\n        this.$amount.value = balance;\n    }\n\n    _onBeforeEntry() {\n        this.address = new URLSearchParams(document.location.search).get(\"address\");\n    }\n}","import XAppScreen from '/elements/x-screen/x-app-screen.js';\nimport ScreenHome from '../screen-home/screen-home.js';\nimport ScreenAccount from '../screen-account/screen-account.js';\n\nexport default class Dashboard extends XAppScreen {\n    html() {\n        return `\n            <screen-home></screen-home>\n            <screen-account></screen-account>\n        `\n    }\n\n    children() { return [ScreenHome, ScreenAccount] }\n\n    listeners() {\n        return { 'x-account-selected': '_onAccountSelected' }\n    }\n\n    _onAccountSelected(address) {\n        window.location = '?address=' + address + '#account';\n    }\n}\n\nDashboard.launch();\n"],"names":[],"mappings":";;;AAAe,MAAM,QAAQ,CAAC;;;;;;IAM1B,WAAW,CAAC,MAAM,EAAE;QAChB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;KACtC;;;;;;;;IAQD,SAAS,CAAC,MAAM,EAAE;QACd,IAAI,MAAM,YAAY,QAAQ,EAAE,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/D,IAAI,MAAM,YAAY,OAAO,EAAE,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;aACjD,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClC;;;;;;;;IAQD,gBAAgB,GAAG;QACf,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO;QAC3B,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;KAC/D;;;;;;;;;IASD,aAAa,CAAC,KAAK,EAAE;QACjB,IAAI,KAAK,YAAY,KAAK,EAAE,OAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;KACjD;;;;;;;;IAQD,oBAAoB,CAAC,KAAK,EAAE;QACxB,MAAM,IAAI,GAAG,KAAK,CAAC,aAAa,EAAE,GAAG,GAAG,CAAC;QACzC,MAAM,OAAO,GAAG,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjD,MAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAChB,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACxD;;;;;;;;;IASD,OAAO,QAAQ,CAAC,GAAG,EAAE;QACjB,OAAO,GAAG,CAAC,OAAO,CAAC,yBAAyB,EAAE,CAAC,KAAK,KAAK;YACrD,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC;YAC5B,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC;SAC9B,CAAC,CAAC;KACN;;;;;;;;;IASD,OAAO,aAAa,GAAG;QACnB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACrB,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC1D,OAAO,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;KAC1D;;;;;;;;IAQD,UAAU,GAAG;QACT,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAChC,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACjD,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1B,IAAI,cAAc,KAAK,EAAE,EAAE,OAAO;QAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,EAAE,OAAO;QACtB,QAAQ,CAAC,SAAS,GAAG,cAAc,CAAC;QACpC,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;KACvC;;;;;;;;IAQD,IAAI,SAAS,GAAG;QACZ,OAAO,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACtD;;;;;;;;;;IAUD,OAAO,WAAW,CAAC,IAAI,EAAE;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;KAC1D;;;;;;;;;IASD,OAAO,aAAa,GAAG;QACnB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC7C,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;KAC5B;;;;;;;;;IASD,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;;;;;;;;;IASvD,EAAE,CAAC,QAAQ,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;;;;;;IAM3D,KAAK,GAAG,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAC,EAAE;;;;;;;;;IASjF,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,EAAE;;;;;;;;;IASrF,IAAI,CAAC,SAAS,EAAE,MAAM,GAAG,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE;QAC3C,MAAM,MAAM,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QACpD,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;KAC9D;;;;;;;;;IASD,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;QAC5B,MAAM,QAAQ,GAAG,CAAC,IAAI;YAClB,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YACxC,QAAQ,CAAC,CAAC,CAAC,CAAC;UACf;QACD,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;KAC/C;;;;;;;;IAQD,QAAQ,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,EAAC,EAAE;;;;;;;IAO3D,WAAW,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAC,EAAE;;;;;;;;IAQjE,YAAY,CAAC,MAAM,EAAE;QACjB,IAAI,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,EAAE,OAAO;QACpB,MAAM,EAAE,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;KACnD;;;;;;;;;;;;IAYD,OAAO,CAAC,SAAS,EAAE,GAAG,EAAE,kBAAkB,EAAE,iBAAiB,EAAE;QAC3D,AAEA,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI;YAC1B,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC;;YAEtB,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC,IAAI;gBACjC,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO;gBAC7B,IAAI,iBAAiB,EAAE,iBAAiB,EAAE,CAAC;gBAC3C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;gBACjC,OAAO,EAAE,CAAC;aACb,EAAE,GAAG,CAAC,CAAC;YACR,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC7B,IAAI,kBAAkB,EAAE,kBAAkB,EAAE,CAAC;SAChD,CAAC;KACL;;;;;;;;IAQD,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE;QACxB,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC;QACtB,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;KACnC;;IAED,KAAK,GAAG;;QAEJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;QAErB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB;CACJ;;;;2JAE0J,3JCvR5I,MAAM,MAAM,CAAC;IACxB,WAAW,CAAC,IAAI,EAAE;;QAEd,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;;QAEnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;QAEhC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;;QAE9D,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;KACrB;;;IAGD,IAAI,MAAM,GAAG,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;;;IAGrC,IAAI,EAAE,GAAG,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE;;;IAG7B,IAAI,MAAM,GAAG,EAAE,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE;;;IAGtC,IAAI,KAAK,GAAG,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE;;;IAGnC,IAAI,IAAI,GAAG,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;;;IAG5D,OAAO,CAAC,UAAU,EAAE;QAChB,OAAO,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,UAAU,CAAC,QAAQ,EAAE,CAAC;KAClE;;;IAGD,WAAW,CAAC,UAAU,EAAE;QACpB,OAAO,UAAU,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,CAAC;KAC7D;;;IAGD,QAAQ,GAAG;QACP,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;;IAGD,YAAY,CAAC,UAAU,EAAE;QACrB,MAAM,YAAY,GAAG,EAAE,CAAC;QACxB,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,UAAU,CAAC;QACxB,OAAO,MAAM,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE;YAChD,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC7B,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;YACtB,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;SACzB;QACD,OAAO,YAAY,CAAC;KACvB;;;IAGD,UAAU,CAAC,UAAU,EAAE;QACnB,IAAI,CAAC,UAAU,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC;QAClC,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,UAAU,CAAC;QACxB,OAAO,MAAM,EAAE;YACX,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACnE,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;YACtB,IAAI,MAAM,EAAE,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;SACrC;QACD,OAAO,UAAU,CAAC;KACrB;;;;;IAKD,OAAO,YAAY,CAAC,QAAQ,EAAE;QAC1B,QAAQ,GAAG,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;QAC5C,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;QAC9D,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;KACpC;;;;;IAKD,OAAO,UAAU,CAAC,MAAM,EAAE;QACtB,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/B,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;KAC3B;;;;IAID,OAAO,iBAAiB,CAAC,KAAK,EAAE;QAC5B,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC;QACtB,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,OAAO,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;QACxE,OAAO,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;KACjD;;;;IAID,OAAO,0BAA0B,CAAC,KAAK,EAAE;QACrC,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACtC,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjB,OAAO,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC/B;;;;IAID,OAAO,qBAAqB,CAAC,KAAK,EAAE;QAChC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACpC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,GAAG,EAAE,QAAQ,IAAI,GAAG,CAAC;QACpD,OAAO,GAAG,GAAG,QAAQ,GAAG,KAAK,CAAC;KACjC;;;;IAID,OAAO,0BAA0B,CAAC,KAAK,EAAE;QACrC,OAAO,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC/B;;;IAGD,OAAO,aAAa,GAAG;QACnB,IAAI,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACvC,OAAO,QAAQ,CAAC;KACnB;;;CACJ,DC9Hc,MAAM,OAAO,SAAS,QAAQ,CAAC;;IAE1C,KAAK,GAAG;;QAEJ,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,EAAE,CAAC;KAClC;;IAED,WAAW,CAAC,MAAM,EAAE;QAChB,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACzC,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;;IAED,oBAAoB,GAAG;QACnB,OAAO,CAAC,4BAA4B,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzE,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB;;;;;;;;;;IAUD,MAAM,kBAAkB,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE;QAC3D,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC3C,MAAM,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACvD,MAAM,aAAa,GAAG,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACtD,MAAM,aAAa,GAAG,SAAS,IAAI,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACnE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,YAAY,CAAC,OAAO,CAAC,OAAO,IAAI,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC;QAC1E,IAAI,UAAU,GAAG,aAAa,IAAI,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3E,IAAI,UAAU,EAAE,UAAU,CAAC,YAAY,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QAC7F,MAAM,CAAC,aAAa,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QAC1E,IAAI,MAAM,CAAC,cAAc,EAAE,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;KAC/D;;IAED,YAAY,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE;QAC9D,IAAI,aAAa,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,MAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,aAAa,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACvC,WAAW,CAAC,YAAY,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;SACjF;QACD,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;KACvD;;IAED,aAAa,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE;QAC/D,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QACrD,IAAI,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO;QACpD,MAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,EAAE,OAAO;QACzB,MAAM,kBAAkB,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAClD,WAAW,CAAC,aAAa,CAAC,kBAAkB,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;KACvF;;IAED,cAAc,CAAC,SAAS,EAAE;QACtB,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,OAAO,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACnC,MAAM,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YACxB,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;YACpC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;SAC/B;QACD,IAAI,KAAK,GAAG,MAAM,CAAC;QACnB,OAAO,KAAK,IAAI,KAAK,CAAC,iBAAiB,EAAE,EAAE;YACvC,KAAK,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;SACrC;QACD,MAAM,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACxD,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;QACpE,OAAO,CAAC,SAAS,GAAG,UAAU,CAAC;QAC/B,OAAO,UAAU,CAAC;KACrB;;IAED,iBAAiB,GAAG;QAChB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO;QAChC,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC;KACnD;;IAED,MAAM,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE;QAClD,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO;QAC3B,IAAI,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QACnF,MAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QAC7E,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB;;IAED,aAAa,CAAC,cAAc,EAAE;QAC1B,MAAM,kBAAkB,GAAG,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc;YACf,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,EAAE,kBAAkB,CAAC,CAAC;;YAEnE,OAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,EAAE,kBAAkB,CAAC,CAAC;KACjF;;IAED,MAAM,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE;QACjD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO;QAC5B,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;QACjF,MAAM,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;QACxC,IAAI,IAAI,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;KAC9E;;IAED,YAAY,CAAC,cAAc,EAAE;QACzB,MAAM,iBAAiB,GAAG,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC;QAClD,IAAI,CAAC,cAAc;YACf,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,EAAE,iBAAiB,CAAC,CAAC;;YAEvE,OAAO,IAAI,CAAC,OAAO,CAAC,2BAA2B,EAAE,IAAI,EAAE,IAAI,EAAE,iBAAiB,CAAC,CAAC;KACvF;;IAED,KAAK,GAAG;QACJ,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAChC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;KAC1B;;IAED,KAAK,GAAG;QACJ,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAChC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B;;IAED,IAAI,SAAS,GAAG,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;;IAE3C,IAAI,KAAK,GAAG;QACR,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;KACjG;;IAED,IAAI,SAAS,GAAG;QACZ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO;QAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;QACrD,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;KACpD;;IAED,IAAI,CAAC,KAAK,EAAE;QACR,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI;YAC1B,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC;YAC/B,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACvD,CAAC;KACL;;IAED,SAAS,CAAC,KAAK,EAAE;QACb,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC;KACpD;;IAED,IAAI,GAAG;QACH,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI;YAC1B,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC;YAC/B,OAAO,CAAC,IAAI,EAAE,CAAC;SAClB,CAAC,CAAC;KACN;;IAED,cAAc,GAAG;QACb,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO;QAC5B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QACnC,KAAK,MAAM,GAAG,IAAI,SAAS,EAAE;YACzB,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,SAAS,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;SAChG;KACJ;;IAED,eAAe,CAAC,EAAE,EAAE;QAChB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO;QAChC,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KACrC;;IAED,aAAa,CAAC,KAAK,EAAE;QACjB,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,GAAG,GAAG,CAAC;YAC5C,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7E,MAAM;YACH,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC;YAChD,IAAI,WAAW,YAAY,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;SAC7E;KACJ;;IAED,mBAAmB,CAAC,KAAK,EAAE;QACvB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,EAAE,CAAC;QACxD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC3C,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;KACxB;;IAED,oBAAoB,CAAC,KAAK,EAAE;QACxB,MAAM,IAAI,GAAG,KAAK,CAAC,aAAa,EAAE,GAAG,GAAG,CAAC;;QAEzC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC;KACxD;;IAED,YAAY,CAAC,MAAM,EAAE;QACjB,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;KAC/C;;IAED,YAAY,GAAG;QACX,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO;QAClC,OAAO,CAAC,YAAY,EAAE,CAAC;QACvB,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC;KAC/B;;IAED,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,EAAE,OAAO,IAAI,wBAAwB;;;;IAI1F,OAAO,4BAA4B,CAAC,QAAQ,EAAE;QAC1C,IAAI,IAAI,CAAC,cAAc,EAAE,OAAO;QAChC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;KACzC;;;IAGD,OAAO,gBAAgB,CAAC,QAAQ,EAAE,UAAU,EAAE;QAC1C,IAAI,SAAS,CAAC;QACd,IAAI,UAAU,EAAE,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;aAChD,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACvC,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO;QAC9C,MAAM,cAAc,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;KACvD;;IAED,OAAO,MAAM,GAAG,EAAE,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,IAAI,IAAI,EAAE,CAAC,CAAC,EAAE;CACzE;;;;;oEAGmE,pECnOrD,MAAM,UAAU,SAAS,OAAO,CAAC;IAC5C,MAAM,GAAG,EAAE,OAAO,CAAC,cAAc,CAAC,EAAE;;;CACvC,DCFc,MAAM,UAAU,SAAS,UAAU,CAAC;CAClD,IAAI,SAAS,GAAG,EAAE,OAAO,MAAM,EAAE;;CAEjC,aAAa,GAAG,EAAE;;;CAClB,DCHc,MAAM,aAAa,SAAS,UAAU,CAAC;IAClD,IAAI,GAAG;QACH,OAAO,CAAC;;;QAGR,CAAC;KACJ;CACJ;;ACRc,MAAM,WAAW,SAAS,OAAO,CAAC;IAC7C,IAAI,GAAG;QACH,OAAO,CAAC;;;;QAIR,CAAC;KACJ;;IAED,QAAQ,GAAG;QACP,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACxB,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtB;KACJ;;IAED,IAAI,CAAC,OAAO,EAAE;QACV,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,OAAO,CAAC;KAClC;;;CACJ,DCrBc,MAAM,eAAe,CAAC;IACjC,WAAW,QAAQ,GAAG,EAAE,OAAO,oCAAoC,EAAE;;;;IAIrE,aAAa,YAAY,CAAC,UAAU,EAAE;QAClC,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,CAAC,8IAA8I,EAAE,UAAU,CAAC,CAAC,EAAC;QAC3L,OAAO,CAAC,MAAM,QAAQ,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC;KACzC;;;;IAID,aAAa,cAAc,CAAC,OAAO,EAAE;QACjC,MAAM,UAAU,GAAG,CAAC,OAAO,OAAO,MAAM,QAAQ,IAAI,eAAe,CAAC,oBAAoB,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;QAC5G,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;QAC7D,OAAO,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;KAC/D;;;IAGD,OAAO,oBAAoB,CAAC,eAAe,EAAE;QACzC,OAAO,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,eAAe,CAAC,CAAC;KACjE;;;IAGD,MAAM,gBAAgB,CAAC,cAAc,EAAE;QACnC,IAAI;YACA,MAAM,OAAO,GAAG,KAAK;gBACjB,CAAC,EAAE,eAAe,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;gBACpD,EAAE,MAAM,EAAE,KAAK,EAAE;aACpB,CAAC;;YAEF,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,IAAI,CAAC,QAAQ,IAAI;gBAC1C,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;oBACd,IAAI,CAAC,qBAAqB,EAAE,CAAC;iBAChC,MAAM;oBACH,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;iBAC1B;aACJ,CAAC,CAAC;;YAEH,IAAI,MAAM,EAAE;gBACR,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;aACtC;SACJ,CAAC,MAAM,CAAC,EAAE;YACP,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;KACJ;;;;IAID,MAAM,YAAY,CAAC,eAAe,EAAE;QAChC,MAAM,OAAO,GAAG,KAAK;YACjB,CAAC,EAAE,eAAe,CAAC,QAAQ,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;YACzD,EAAE,MAAM,EAAE,KAAK,EAAE;SACpB,CAAC;QACF,IAAI;YACA,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SACpC,CAAC,OAAO,CAAC,EAAE;YACR,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAC9B;KACJ;;;;IAID,MAAM,eAAe,CAAC,eAAe,EAAE,YAAY,EAAE;QACjD,MAAM,OAAO,GAAG,KAAK;YACjB,CAAC,EAAE,eAAe,CAAC,QAAQ,CAAC,iBAAiB,CAAC;YAC9C;gBACI,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACjB,kBAAkB,EAAE,eAAe;oBACnC,eAAe,EAAE,YAAY;iBAChC,CAAC;gBACF,OAAO,EAAE;oBACL,QAAQ,EAAE,kBAAkB;oBAC5B,cAAc,EAAE,kBAAkB;iBACrC;aACJ;SACJ,CAAC;;QAEF,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC;QAC/B,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KACvC;;;IAGD,MAAM,SAAS,CAAC,OAAO,EAAE;QACrB,MAAM,OAAO,GAAG,KAAK;YACjB,CAAC,EAAE,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC;YACpC;gBACI,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;gBAC7B,OAAO,EAAE;oBACL,QAAQ,EAAE,kBAAkB;oBAC5B,cAAc,EAAE,kBAAkB;iBACrC;aACJ;SACJ,CAAC;;QAEF,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC;QAC/B,IAAI,QAAQ,CAAC,EAAE,EAAE;YACb,IAAI,CAAC,YAAY,CAAC,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;SAC5C;aACI;YACD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACpC;KACJ;;;CACJ,DC1Gc,MAAM,QAAQ,CAAC;;;;IAI1B,OAAO,GAAG,CAAC,IAAI,EAAE;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACvH;;IAED,OAAO,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE;QAC1B,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAC;KACtC;;IAED,OAAO,SAAS,CAAC,IAAI,EAAE;QACnB,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;;;;IAID,OAAO,YAAY,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE;QACtF,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC;KAC5G;;IAED,OAAO,mBAAmB,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE;QAC7F,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC;KAC5G;;IAED,OAAO,UAAU,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE;QACpF,OAAO,CAAC;4BACY,EAAE,KAAK,CAAC;4BACR,EAAE,eAAe,CAAC;gBAC9B,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5B,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5B,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5B,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC9B,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;gBACtC,CAAC;KACZ;;IAED,OAAO,KAAK,CAAC,OAAO,EAAE;QAClB,OAAO,CAAC;;gBAEA,EAAE,OAAO,CAAC;kBACR,CAAC;KACd;;IAED,OAAO,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE;QACtB,OAAO,CAAC,sEAAsE,EAAE,QAAQ,CAAC,MAAM,CAAC,0CAA0C,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;KACrL;;IAED,WAAW,MAAM,GAAG;QAChB,OAAO;YACH,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;SACZ;KACJ;;IAED,WAAW,QAAQ,GAAG;QAClB,OAAO;;YAEH,SAAS;YACT,SAAS;YACT,SAAS;;;YAGT,SAAS;YACT,SAAS;YACT,SAAS;;;YAGT,SAAS;YACT,SAAS;;;YAGT,SAAS;YACT,SAAS;SACZ;KACJ;;IAED,OAAO,WAAW,CAAC,KAAK,EAAE,EAAE,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,KAAK,GAAG,EAAE,GAAG,GAAG,GAAG,KAAK,GAAG,KAAK,EAAE;;IAEhG,OAAO,KAAK,CAAC,IAAI,EAAE;QACf,OAAO,CAAC,EAAE,GAAG,IAAI;iBACR,KAAK,CAAC,EAAE,CAAC;iBACT,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;iBACrC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;aAC5D,KAAK,CAAC,EAAE,CAAC;aACT,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;aAC3B,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;KACtB;;IAED,OAAO,WAAW,CAAC,MAAM,EAAE;QACvB,MAAM,CAAC,GAAG,cAAc,CAAC;QACzB,IAAI,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1B,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;SAC7B;QACD,OAAO,GAAG,CAAC;KACd;;;CACJ,DC1Gc,MAAM,SAAS,SAAS,QAAQ,CAAC;;IAE5C,OAAO,YAAY,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE;QACtF,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;KAC7H;;IAED,OAAO,UAAU,CAAC,OAAO,EAAE;QACvB,OAAO,CAAC;;;;;;;;;;;;;;;kDAekC,EAAE,OAAO,CAAC;;YAEhD,CAAC;KACR;;;CACJ,DCxBc,MAAM,UAAU,SAAS,QAAQ,CAAC;IAC7C,IAAI,OAAO,CAAC,OAAO,EAAE;QACjB,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACvC;;;CACJ,DCPc,MAAM,SAAS,CAAC;IAC3B,OAAO,IAAI,CAAC,IAAI,EAAE;;QAEd,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,EAAC;QACzC,IAAI,CAAC,WAAW,GAAG,KAAI;QACvB,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,MAAK;;;QAG7B,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,EAAC;QAC7C,MAAM,CAAC,OAAO,GAAG,oBAAmB;QACpC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAC;;QAEjC,IAAI,GAAG,GAAG,MAAM,CAAC,cAAa;QAC9B,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAC;;QAEnC,IAAI,SAAS,GAAG,GAAG,CAAC,YAAY,GAAE;;;QAGlC,IAAI,CAAC,SAAS,EAAE;YACZ,GAAG,GAAG,OAAM;YACZ,SAAS,GAAG,GAAG,CAAC,YAAY,GAAE;YAC9B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAC;SAClC;;QAED,IAAI,KAAK,GAAG,GAAG,CAAC,QAAQ,CAAC,WAAW,GAAE;QACtC,SAAS,CAAC,eAAe,GAAE;QAC3B,KAAK,CAAC,UAAU,CAAC,IAAI,EAAC;QACtB,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAC;;QAEzB,IAAI,OAAO,GAAG,MAAK;QACnB,IAAI;YACA,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAC;SAC7C,CAAC,OAAO,GAAG,EAAE,EAAE;;QAEhB,SAAS,CAAC,eAAe,GAAE;QAC3B,IAAI,CAAC,MAAM,GAAE;QACb,MAAM,CAAC,MAAM,GAAE;;QAEf,OAAO,OAAO;KACjB;;;CACJ,DCtCc,MAAM,MAAM,SAAS,QAAQ,CAAC;;IAEzC,WAAW,GAAG;QACV,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;KAC1C;;IAED,IAAI,CAAC,OAAO,EAAE;QACV,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACxB;;IAED,OAAO,cAAc,EAAE;QACnB,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC7B,MAAM,UAAU,GAAG,eAAe,CAAC,aAAa,EAAE,CAAC;QACnD,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACnC,MAAM,CAAC,eAAe,GAAG,UAAU,CAAC;KACvC;;IAED,OAAO,IAAI,CAAC,OAAO,CAAC;QAChB,GAAG,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC;QAClD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACtC;CACJ;;AAED,MAAM,eAAe,SAAS,QAAQ,CAAC;IACnC,IAAI,GAAG,EAAE,OAAO,CAAC,mBAAmB,CAAC,EAAE;;IAEvC,IAAI,CAAC,OAAO,EAAE;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACjC,MAAM,CAAC,WAAW,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KAChC;CACJ;;;;sGAEqG,tGC/BvF,MAAM,QAAQ,SAAS,QAAQ,CAAC;IAC3C,QAAQ,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE;;IAE9B,MAAM,GAAG,EAAE,OAAO,CAAC,WAAW,CAAC,EAAE;;IAEjC,QAAQ,GAAG;QACP,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAC;KACtD;;IAED,OAAO,GAAG;QACN,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAC;KACnD;;IAED,IAAI,OAAO,CAAC,OAAO,EAAE;QACjB,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,OAAO,CAAC;KAClC;;;CACJ,DCjBc,MAAM,QAAQ,SAAS,QAAQ,CAAC;IAC3C,IAAI,GAAG;QACH,OAAO,CAAC;;;QAGR,CAAC;KACJ;IACD,QAAQ,GAAG,EAAE,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,EAAE;;IAE5C,QAAQ,GAAG;QACP,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAC;KACrE;;IAED,IAAI,OAAO,CAAC,OAAO,EAAE;QACjB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;KAC3B;;IAED,kBAAkB,GAAG;QACjB,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;KAClD;;;CACJ,DCtBc,MAAM,cAAc,SAAS,UAAU,CAAC;IACnD,IAAI,GAAG;QACH,OAAO,CAAC;;;QAGR,CAAC;KACJ;;IAED,QAAQ,GAAG;QACP,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC;QAC/C,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;KAC5E;;IAED,IAAI,QAAQ,CAAC,QAAQ,EAAE;QACnB,QAAQ,CAAC,OAAO,CAAC,MAAM,OAAO,IAAI,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;KACzE;;IAED,MAAM,UAAU,CAAC,OAAO,CAAC;QACrB,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;KACtC;;IAED,MAAM,cAAc,CAAC,OAAO,EAAE;QAC1B,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,EAAE,CAAC;QAC1C,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;KAChD;;IAED,gBAAgB,GAAG;QACf,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;KACjC;CACJ;;AC/Bc,MAAM,gBAAgB,SAAS,QAAQ,CAAC;IACnD,QAAQ,GAAG;QACP,IAAI,CAAC,IAAI,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,CAAC;KAChD;CACJ;;AAED,MAAM,sBAAsB,SAAS,eAAe,CAAC;IACjD,WAAW,CAAC,OAAO,EAAE;QACjB,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;KAC3B;;IAED,qBAAqB,CAAC,QAAQ,EAAE;QAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,6BAA6B,EAAE,QAAQ,CAAC,CAAC;KAC/D;;IAED,qBAAqB,GAAG;QACpB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;KAC5D;;IAED,cAAc,CAAC,QAAQ,EAAE;QACrB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,0BAA0B,EAAE,QAAQ,CAAC,CAAC;KAC5D;;IAED,eAAe,CAAC,QAAQ,EAAE;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,6BAA6B,EAAE,QAAQ,CAAC,CAAC;KAC/D;;IAED,iBAAiB,CAAC,QAAQ,EAAE;QACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,+BAA+B,EAAE,QAAQ,CAAC,CAAC;KACjE;;IAED,YAAY,CAAC,QAAQ,EAAE;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,2BAA2B,EAAE,QAAQ,CAAC,CAAC;KAC7D;;IAED,UAAU,CAAC,SAAS,EAAE;QAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,yBAAyB,EAAE,SAAS,CAAC,CAAC;KAC5D;;;CACJ,DCpCc,MAAM,UAAU,SAAS,OAAO,CAAC;IAC5C,IAAI,GAAG;QACH,OAAO,CAAC;;;;;;;;;QASR,CAAC;KACJ;;IAED,QAAQ,GAAG,EAAE,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,WAAW,EAAE,gBAAgB,EAAE,EAAE;;IAEtF,SAAS,GAAG;QACR,OAAO;YACH,6BAA6B,EAAE,wBAAwB;YACvD,oCAAoC,EAAE,wBAAwB;YAC9D,kBAAkB,EAAE,kBAAkB;YACtC,aAAa,EAAE,aAAa;SAC/B;KACJ;;IAED,cAAc,GAAG;QACb,IAAI,cAAc,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC1F,IAAI,cAAc,KAAK,IAAI,EAAE;YACzB,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;SAC1D,MAAM;YACH,cAAc,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;KAC/D;;IAED,sBAAsB,CAAC,MAAM,EAAE;QAC3B,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,MAAM,eAAe,GAAG,MAAM,CAAC,gBAAgB,CAAC;QAChD,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACzB;;IAED,sBAAsB,GAAG;QACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,mDAAmD,CAAC,CAAC;QAC5E,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACtB;;IAED,gBAAgB,GAAG;QACf,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,gCAAgC,GAAG,IAAI,CAAC,gBAAgB,CAAC;KACnF;CACJ;;ACzDc,MAAM,OAAO,CAAC;;IAEzB,WAAW,OAAO,GAAG,EAAE,OAAO,wDAAwD,EAAE;IACxF,WAAW,QAAQ,GAAG,EAAE,OAAO,SAAS,EAAE;;IAE1C,OAAO,MAAM,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,EAAE,CAAC;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;;IAED,WAAW,GAAG;QACV,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,CAAC,OAAO,IAAI;YAC1C,IAAI,CAAC,sBAAsB,GAAG,OAAO,CAAC;YACtC,OAAO,CAAC,CAAC;SACZ,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,GAAE;KACf;;IAED,MAAM,KAAK,CAAC,OAAO,EAAE;QACjB,MAAM,OAAO,CAAC,UAAU,EAAE,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,GAAE;QACX,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC;KACzE;;IAED,MAAM,WAAW,GAAG;QAChB,MAAM,KAAK,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAAC;QAC7C,IAAI,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;QACnD,IAAI,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,MAAM,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;QACvE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;;IAED,MAAM,OAAO,GAAG;QACZ,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,IAAI,CAAC,CAAC,CAAC,SAAS,GAAG,MAAM,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QAChD,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC;QACxE,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACnC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACzE,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,EAAE,IAAI,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC;KACtF;;IAED,MAAM,YAAY,GAAG;QACjB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,OAAO;QAC1C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QACzC,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE,OAAO;QACtC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACvC;;IAED,MAAM,WAAW,GAAG;QAChB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACzE,OAAO,OAAO,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;KAC7C;;IAED,MAAM,WAAW,GAAG;QAChB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QACzC,OAAO,OAAO,CAAC,OAAO,CAAC;KAC1B;;IAED,uBAAuB,GAAG;QACtB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,sBAAsB,EAAE,CAAC;KACjC;;IAED,iBAAiB,CAAC,EAAE,EAAE;QAClB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,OAAO;QACxD,MAAM,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;QAC3C,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;KACnG;;;;;IAKD,MAAM,eAAe,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,GAAG,CAAC,EAAE;QAC9C,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;QACvE,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QACnD,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC3G,OAAO,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;KAChD;;IAED,MAAM,UAAU,GAAG;QACf,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;IAED,MAAM,UAAU,GAAG;QACf,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;IAED,IAAI,OAAO,GAAG;QACV,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;KACxD;;IAED,IAAI,OAAO,GAAG;QACV,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,KAAK,CAAC,CAAC;KAClD;;IAED,MAAM,eAAe,GAAG;QACpB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,OAAO,GAAG,IAAI,CAAC,WAAU;QAC/B,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO;YACH,UAAU,EAAE,OAAO;YACnB,OAAO,EAAE,OAAO,CAAC,qBAAqB,EAAE;SAC3C;KACJ;;IAED,MAAM,SAAS,CAAC,UAAU,EAAE,OAAO,GAAG,IAAI,EAAE;QACxC,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACzD,IAAI,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,OAAO,EAAE,MAAM,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;IAED,MAAM,SAAS,GAAG;QACd,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;KACnD;;IAED,MAAM,UAAU,CAAC,GAAG,EAAE;QAClB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAClC;;IAED,MAAM,YAAY,CAAC,GAAG,EAAE;QACpB,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACpC;;IAED,MAAM,eAAe,CAAC,YAAY,EAAE,QAAQ,EAAE;QAC1C,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,IAAI,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;;;KAG5E;;IAED,MAAM,eAAe,CAAC,QAAQ,EAAE;QAC5B,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QACrE,OAAO,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;KACrD;;;;IAID,MAAM,cAAc,CAAC,OAAO,EAAE;QAC1B,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,MAAM,UAAU,GAAG,CAAC,OAAO,OAAO,MAAM,QAAQ,IAAI,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;QACvG,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;QAC7D,OAAO,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;KAC/D;;;IAGD,MAAM,oBAAoB,CAAC,eAAe,EAAE;QACxC,MAAM,IAAI,CAAC,eAAe,CAAC;QAC3B,OAAO,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,eAAe,CAAC,CAAC;KACjE;;IAED,aAAa,GAAG;QACZ,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACtC,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;KAChC;;IAED,gBAAgB,CAAC,OAAO,EAAE;QACtB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;KACvC;;IAED,sBAAsB,GAAG;QACrB,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,6BAA6B,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KAC1D;;IAED,gBAAgB,CAAC,OAAO,EAAE;QACtB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;KACvC;;IAED,qBAAqB,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;QACtC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;KAC9E;;IAED,mBAAmB,GAAG;QAClB,OAAO,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;QAC/D,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;KAC1C;;IAED,OAAO,WAAW,CAAC,MAAM,EAAE,QAAQ,GAAG,CAAC,EAAE;QACrC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAC;QACvB,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,QAAQ,CAAC;KACnD;;IAED,OAAO,mBAAmB,CAAC,MAAM,EAAE;QAC/B,MAAM,GAAG,MAAM,CAAC,MAAM,EAAC;QACvB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC;KAC7C;;IAED,OAAO,eAAe,CAAC,OAAO,EAAE;QAC5B,IAAI;YACA,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACpC,OAAO,IAAI,CAAC;SACf,CAAC,OAAO,CAAC,EAAE;YACR,OAAO,KAAK,CAAC;SAChB;KACJ;;;;IAID,OAAO,qBAAqB,CAAC,GAAG,EAAE;QAC9B,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC5B,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;YACzC,MAAM,IAAI,KAAK,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;SACnD;QACD,IAAI,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;YACnB,MAAM,IAAI,KAAK,CAAC,0CAA0C,EAAE,GAAG,CAAC,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;YACzD,MAAM,IAAI,KAAK,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;SACpD;KACJ;;IAED,OAAO,UAAU,CAAC,GAAG,EAAE;QACnB,MAAM,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK;YACjC,MAAM,IAAI,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC3C,OAAO,IAAI,IAAI,EAAE,IAAI,IAAI,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,EAAE,QAAQ,EAAE,CAAC;SAChE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACZ,IAAI,GAAG,GAAG,EAAE,CAAC;;QAEb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAChD,GAAG,GAAG,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,CAAC;SAChE;;QAED,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;KACxB;;IAED,OAAO,UAAU,GAAG;QAChB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;YACpC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC9C,MAAM,CAAC,IAAI,GAAG,iBAAiB,CAAC;YAChC,MAAM,CAAC,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC;YAC7B,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC;YAC9D,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC;YAC9D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SACrC,CAAC,CAAC;KACN;;;IAGD,IAAI,CAAC,SAAS,EAAE,MAAM,GAAG,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE;QAC3C,MAAM,MAAM,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QACpD,MAAM,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;KAC5D;;;CACJ,DClQc,MAAM,OAAO,SAAS,QAAQ,CAAC;IAC1C,IAAI,EAAE;QACF,OAAO,CAAC;;yCAEyB,CAAC;KACrC;;IAED,QAAQ,EAAE;QACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,cAAc,EAAC;QACxC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,cAAc,EAAC;KAC3C;;IAED,IAAI,KAAK,CAAC,KAAK,EAAE;QACb,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;QACtB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAClE,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,OAAO,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KAC1E;CACJ;;ACjBc,MAAM,SAAS,SAAS,QAAQ,CAAC;IAC5C,QAAQ,GAAG;QACP,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,MAAM,CAAC;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KAC3C;CACJ;;AAED,MAAM,QAAQ,SAAS,OAAO,CAAC;IAC3B,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE;QAC1B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;KAC3B;IACD,aAAa,GAAG;QACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;KAC3C;;IAED,sBAAsB,GAAG;QACrB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KAC/D;;IAED,gBAAgB,CAAC,OAAO,EAAE;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;KAC5C;;IAED,gBAAgB,CAAC,OAAO,EAAE;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;KAC5C;;IAED,qBAAqB,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;QACtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;KACnF;;IAED,mBAAmB,GAAG;QAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;KAC/C;CACJ;;;;6HAE4H,7HClC9G,MAAM,aAAa,SAAS,OAAO,CAAC;IAC/C,IAAI,GAAG;QACH,OAAO,CAAC;;;;;;;;;;EAUd,CAAC;KACE;;IAED,QAAQ,GAAG,EAAE,OAAO,CAAC,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,EAAE;;IAEhE,SAAS,GAAG;QACR,OAAO;YACH,aAAa,EAAE,aAAa;SAC/B;KACJ;;IAED,QAAQ,GAAG;QACP,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;KACnE;;IAED,OAAO,GAAG;QACN,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KAC9B;;IAED,WAAW,GAAG;QACV,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO;QAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACpC;;IAED,IAAI,OAAO,CAAC,OAAO,EAAE;QACjB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW;YAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;KAC1B;;IAED,MAAM,YAAY,CAAC,OAAO,EAAE;QACxB,MAAM,UAAU,GAAG,MAAM,eAAe,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjE,MAAM,OAAO,GAAG,MAAM,eAAe,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC;KAChC;;IAED,cAAc,GAAG;QACb,IAAI,CAAC,OAAO,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;KAC/E;;;CACJ,DCxDc,MAAM,SAAS,SAAS,UAAU,CAAC;IAC9C,IAAI,GAAG;QACH,OAAO,CAAC;;;QAGR,CAAC;KACJ;;IAED,QAAQ,GAAG,EAAE,OAAO,CAAC,UAAU,EAAE,aAAa,CAAC,EAAE;;IAEjD,SAAS,GAAG;QACR,OAAO,EAAE,oBAAoB,EAAE,oBAAoB,EAAE;KACxD;;IAED,kBAAkB,CAAC,OAAO,EAAE;QACxB,MAAM,CAAC,QAAQ,GAAG,WAAW,GAAG,OAAO,GAAG,UAAU,CAAC;KACxD;CACJ;;AAED,SAAS,CAAC,MAAM,EAAE,CAAC;;;;;;;;"}